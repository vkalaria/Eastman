import os
import glob
import time

import RPi.GPIO as gpio

gpio.setmode(gpio.BOARD)

# Pin for pulse signal
gpio.setup(11, gpio.OUT)

# Pin for direction signal
gpio.setup(12, gpio.OUT)
gpio.output(12, gpio.LOW)

# Pin for enable signal
gpio.setup(13, gpio.OUT)
gpio.output(13, gpio.HIGH)

def motor_clockwise():
    gpio.output(11, gpio.HIGH)

def motor_stop():
    gpio.output(11, gpio.LOW)
    gpio.output(12, gpio.LOW)
    
def motor_counter_clockwise():
    gpio.output(12, gpio.HIGH)
    time.sleep(0.001)
    gpio.output(11, gpio.HIGH)

# freq:       length of delay in seconds
# direction:  0 for clockwise
#             1 for counterclockwise
# enable:     set 0 to turn motor off
def motor_control(freq, direction, enable=1):
    clock = (1/freq) / 2
            
    if (direction):
        motor_clockwise()
        time.sleep(clock)
        motor_stop()
    else:
        motor_counter_clockwise()
        time.sleep(clock)
        motor_stop()

    time.sleep(clock)
